<!--all these macro functions helps to organize the project and allow cleaner html files-->


<!--this is a macro to help render the table-->
<!--its is like a function and is able to accept parameters-->
<!--this macro prints sales item in a table format-->
{% macro render_item_table(i) %}
        <td>
            <center><img src='/{{i.get_image_url()}}' style="width:300px;height:250px;" class="img600"/></center>
        </td>
        <td>
            {{i.get_UID()}}
        </td>
        <td>
            {{i.get_name()}}
        </td>
        <td>
            {{i.get_category()}}
        </td>
        <td>
            {{i.get_description()}}
        </td>
        <td>
            {{'%0.2f'|format(i.get_price()|float)}}
        </td>
        <td>
            {{'%.0f'|format(i.get_discount()|float)}}
        </td>
        <td>
            {{'%.0f'|format(i.get_stocks()|float)}}
        </td>
        <td>
            {{i.get_available_flag()}}
        </td>
        <td>
            <center>
            <a class="btn btn-primary" href="{{url_for('admin_pages.edit_item', itemid=i.get_UID())}}">Edit</a>
                {% if i.get_available_flag() %}
            <a class="btn btn-danger" href="{{url_for('admin_pages.invalidate_sales_item', itemid=i.get_UID())}}">Invalidate</a>
                {% else %}
            <a class="btn btn-danger" href="{{url_for('admin_pages.invalidate_sales_item', itemid=i.get_UID())}}">Validate</a>
                {% endif %}
            </center>
        </td>

{% endmacro %}

{% macro render_package_table(i) %}
        <td>
          <center> <img src='/{{i.get_image_url()}}' class="img600"/></center>
        </td>
        <td>
            {{i.get_UID()}}
        </td>
        <td>
            {{i.get_name()}}
        </td>
        <td>
            {{i.get_description()}}
        </td>
        <td>
            {{i.get_expiry_duration()}}
        </td>
        <td>
            {{'%.0f'|format(i.get_sessions()|float)}}
        </td>
        <td>
            {{'%0.2f'|format(i.get_price()|float)}}
        </td>
       <td>
            {{i.get_available_flag()}}
        </td>

        <td>
            <center>
        <a class="btn btn-primary" href="{{url_for('admin_pages.edit_package', packageid=i.get_UID())}}">Edit</a>
                {% if i.get_available_flag() %}
            <a class="btn btn-danger" href="{{url_for('admin_pages.invalidate_package', packageid=i.get_UID())}}">Invalidate</a>
                {% else %}
            <a class="btn btn-danger" href="{{url_for('admin_pages.invalidate_package', packageid=i.get_UID())}}">Validate</a>
                {% endif %}
            </center>
        </td>


{% endmacro %}

{% macro render_services_table(i) %}
        <td>
           <center><img src='/{{i.get_image_url()}}' class="img600" /></center>
        </td>

        <td>
            {{i.get_UID()}}
        </td>
        <td>
            {{i.get_name()}}
        </td>
        <td>
            {{i.get_description()}}
        </td>
        <td>
            {{'%0.2f'|format(i.get_price()|float)}}
        </td>
       <td>
            {{i.get_available_flag()}}
        </td>

        <td>
            <center>
            <a class="btn btn-primary" href="{{url_for('admin_pages.edit_service', serviceid=i.get_UID())}}">Edit</a>
                {% if i.get_available_flag() %}
            <a class="btn btn-danger" href="{{url_for('admin_pages.invalidate_service', serviceid=i.get_UID())}}">Invalidate</a>
                {% else %}
            <a class="btn btn-danger" href="{{url_for('admin_pages.invalidate_service', serviceid=i.get_UID())}}">Validate</a>
                {% endif %}
            </center>
        </td>

{% endmacro %}

{% macro render_coupon_table(i) %}
        <td>
            {{i.get_UID()}}
        </td>
        <td>
            {{i.get_couponcode()}}
        </td>
        <td>
           {{'%.0f'|format(i.get_percentage()|float)}}
        </td>

        <td>
            {{'%0.2f'|format(i.get_minimumspent()|float)}}
        </td>
        <td>
           {{'%0.2f'|format(i.get_discountlimit()|float)}}
        </td>
        <td>
            {{i.get_expiredate()}}
        </td>
        <td>
            <center>
            <a class="btn btn-primary" href="{{url_for('admin_pages.edit_coupon', couponid=i.get_UID())}}">Edit</a>
            <a class="btn btn-danger" href="{{url_for('admin_pages.delete_coupon', couponid=i.get_UID())}}">Delete</a>
            </center>
        </td>


{% endmacro %}



{% macro render_receipt_table(i) %}
      <td>
          {{ i.get_date() }}
      </td>
        <td>
            {{ i.get_UID() }}
        </td>
        <td>
           {{ i.get_full_name() }}
        </td>

        <td>
            {{ i.get_address() }}
        </td>
        <td>
            {{ i.get_sales_count() }}
        </td>
        <td>
           {{'%0.2f'|format(i.get_total()|float)}}
        </td>
        <td>
            {{i.get_status()}}
        </td>
        <td>
            <center>
            <a class="btn btn-primary" href="{{url_for('admin_pages.edit_coupon', couponid=i.get_UID())}}">Edit</a>
            <a class="btn btn-danger" href="{{url_for('admin_pages.delete_coupon', couponid=i.get_UID())}}">Delete</a>
            </center>
        </td>


{% endmacro %}

{% macro render_user_table(i) %}
        <td>
            {{i.get_username()}}
        </td>
        <td>
            {{i.get_ban_flag()}}
        </td>
        <td>
             <center>
                 {% if i.get_ban_flag() %}
            <a class="btn btn-primary" href="{{url_for('admin_pages.ban_user_account', username=i.get_username())}}">Unban</a>
                {%else%}
             <a class="btn btn-primary" href="{{url_for('admin_pages.ban_user_account', username=i.get_username())}}">Ban</a>
                 {% endif %}
            <a class="btn btn-danger" href="{{url_for('admin_pages.del_user_account', username=i.get_username())}}">Delete</a>
             </center>
        </td>
{% endmacro %}

{% macro render_admin_table(i) %}
        <td>
            {{i['username']}}
        </td>
        <td>
             <center>

            <a class="btn btn-danger" href="{{url_for('admin_pages.del_admin_account', username=i['username'])}}">Delete</a>
             </center>
        </td>
{% endmacro %}



{% macro render_supplier_table(i) %}
        <td>
            {{i.get_UID()}}
        </td>
        <td>
            {{i.get_name()}}
        </td>
        <td>
           {{i.get_address()}}
        </td>
        <td>
            {{i.get_phone_num()}}
        </td>
        <td>
            {{i.get_product()}}
        </td>
        <td>
           {{i.get_price()}}
        </td>
        <td>
            <center>
            <a class="btn btn-primary" href="{{url_for('admin_pages.edit_suppliers', supplierid=i.get_UID())}}">Edit</a>
            <a class="btn btn-danger" href="{{url_for('admin_pages.delete_suppliers', supplierid=i.get_UID())}}">Delete</a>
            </center>
        </td>


{% endmacro %}


{% macro render_suppliesrorder_table(i) %}
        <td>
           {{i.get_date_of_order()}}
        </td>
        <td>
            {{i.get_oid()}}
        </td>
        <td>
            {{i.get_sname()}}
        </td>
        <td>
           {{i.get_pname()}}
        </td>
        <td>
            {{i.get_amt()}}
        </td>
        <td>
            {{i.get_total_price()}}
        </td>
       <td>
            {{i.get_progress()}}
        </td>
<!--        <td>-->
<!--            <center>-->

<!--            <a class="btn btn-primary" href="{{url_for('admin_pages.received_suppliers_order', orderid=i.get_oid())}}">Received</a>-->
<!--            <a class="btn btn-danger" href="{{url_for('admin_pages.cancel_suppliers_order', orderid=i.get_oid())}}">Delete</a>-->
<!--            </center>-->
<!--        </td>-->


{% endmacro %}
