<td><center><!--all these macro functions helps to organize the project and allow cleaner html files-->


<!--this is a macro to help render the table-->
<!--its is like a function and is able to accept parameters-->
<!--this macro prints sales item in a table format-->
{% macro render_item_table(i) %}

{% if i.get_stocks() < 100 %}
<style>
.{{i.get_UID()}}
{
 color:red;
 }
</style> {% endif %}
        <td>
            <center><img src='/{{i.get_image_url()}}' style="width:300px;height:250px;" class="img600"/></center>
        </center></td>
        <td><center>
            {{i.get_UID()}}
        </center></td>
        <td><center>
            {{i.get_name()}}
        </center></td>
        <td><center>
            {{i.get_category()}}
        </center></td>
        <td><center>
            {{i.get_description()}}
        </center></td>
        <td><center>
            {{'%0.2f'|format(i.get_price()|float)}}
        </center></td>
        <td><center>
            {{'%.0f'|format(i.get_discount()|float)}}
        </center></td>
        <td class="{{i.get_UID()}}"><center>
            {{i.get_stocks()}}
        </center></td>
        <td><center>
            {{i.get_available_flag()}}
        </center></td>
        <td>
            <center>
            <a class="btn btn-primary" href="{{url_for('admin_pages.edit_item', itemid=i.get_UID())}}" style="width:100px">Edit</a>
                <br><br>
                {% if i.get_available_flag() %}
            <a class="btn btn-danger" href="{{url_for('admin_pages.invalidate_sales_item', itemid=i.get_UID())}}" style="width:100px">Invalidate</a>
                {% else %}
            <a class="btn btn-danger" href="{{url_for('admin_pages.invalidate_sales_item', itemid=i.get_UID())}}" style="width:100px">Validate</a>
                {% endif %}
            </center>
        </td>

{% endmacro %}

{% macro render_package_table(i) %}
        <td><center>
          <center> <img src='/{{i.get_image_url()}}' class="img600"/></center>
        </center></td>
        <td><center>
            {{i.get_UID()}}
        </center></td>
        <td><center>
            {{i.get_name()}}
        </center></td>
        <td><center>
            {{i.get_description()}}
        </center></td>
        <td><center>
            {{i.get_expiry_duration()}}
        </center></td>
        <td><center>
            {{'%.0f'|format(i.get_sessions()|float)}}
        </center></td>
        <td><center>
            {{'%0.2f'|format(i.get_price()|float)}}
        </center></td>
       <td><center>
            {{i.get_available_flag()}}
        </center></td>

        <td>
            <center>
        <a class="btn btn-primary" href="{{url_for('admin_pages.edit_package', packageid=i.get_UID())}}" style="width:100px">Edit</a>
                <br><br>
                {% if i.get_available_flag() %}
            <a class="btn btn-danger" href="{{url_for('admin_pages.invalidate_package', packageid=i.get_UID())}}" style="width:100px">Invalidate</a>
                {% else %}
            <a class="btn btn-danger" href="{{url_for('admin_pages.invalidate_package', packageid=i.get_UID())}}" style="width:100px">Validate</a>
                {% endif %}
            </center>
        </td>


{% endmacro %}

{% macro render_services_table(i) %}
        <td><center>
           <center><img src='/{{i.get_image_url()}}' class="img600" /></center>
        </center></td>

        <td><center>
            {{i.get_UID()}}
        </center></td>
        <td><center>
            {{i.get_name()}}
        </center></td>
        <td><center>
            {{i.get_description()}}
        </center></td>
        <td><center>
            {{'%0.2f'|format(i.get_price()|float)}}
        </center></td>
       <td><center>
            {{i.get_available_flag()}}
        </center></td>

        <td>
            <center>
            <a class="btn btn-primary" href="{{url_for('admin_pages.edit_service', serviceid=i.get_UID())}}" style="width:100px">Edit</a>
                <br><br>
                {% if i.get_available_flag() %}
            <a class="btn btn-danger" href="{{url_for('admin_pages.invalidate_service', serviceid=i.get_UID())}}" style="width:100px">Invalidate</a>
                {% else %}
            <a class="btn btn-danger" href="{{url_for('admin_pages.invalidate_service', serviceid=i.get_UID())}}" style="width:100px">Validate</a>
                {% endif %}
            </center>
        </td>

{% endmacro %}

{% macro render_coupon_table(i) %}
        <td><center>
            {{i.get_UID()}}
        </center></td>
        <td><center>
            {{i.get_couponcode()}}
        </center></td>
        <td><center>
           {{'%.0f'|format(i.get_percentage()|float)}}
        </center></td>

        <td><center>
            {{'%0.2f'|format(i.get_minimumspent()|float)}}
        </center></td>
        <td><center>
           {{'%0.2f'|format(i.get_discountlimit()|float)}}
        </center></td>
        <td><center>
            {{i.get_expiredate()}}
        </center></td>
        <td>
            <center>
            <a class="btn btn-primary" href="{{url_for('admin_pages.edit_coupon', couponid=i.get_UID())}}" style="width:100px">Edit</a>
                <br><br>
            <a class="btn btn-danger" href="{{url_for('admin_pages.delete_coupon', couponid=i.get_UID())}}" style="width:100px">Delete</a>
            </center>
        </td>


{% endmacro %}



{% macro render_receipt_table(i) %}
      <td><center>
          {{ i.get_date() }}
      </center></td>
        <td><center>
            {{ i.get_UID() }}
        </center></td>
        <td><center>
           {{ i.get_full_name() }}
        </center></td>
        <td><center>
           {{ i.get_username() }}
        </center></td>

        <td><center>
            {{ i.get_address() }}
        </center></td>
        <td><center>
            {{ i.get_sales_count() }}
        </center></td>
      <td><center>
           {{ i.get_couponcode() }}
        </center></td>
        <td><center>
           {{'%0.2f'|format(i.get_total()|float)}}
        </center></td>
        <td><center>
            {{i.get_status()}}
        </center></td>
        <td>
            <center>
            <a class="btn btn-warning" href="{{url_for('admin_pages.receipts_delivery', ruid=i.get_UID())}}" style="width:100px">Delivery</a>
                <br><br>
            <a class="btn btn-success" href="{{url_for('admin_pages.list_receipts_complete', ruid=i.get_UID())}}" style="width:100px">Complete</a>
            </center>
        </td>


{% endmacro %}

{% macro render_user_table(i) %}
        <td><center>
            {{i.get_username()}}
        </center></td>
        <td><center>
            {{i.get_ban_flag()}}
        </center></td>
        <td>
             <center>
                 {% if i.get_ban_flag() %}
            <a class="btn btn-primary" href="{{url_for('admin_pages.ban_user_account', username=i.get_username())}}" style="width:100px">Unban</a>
                {%else%}
             <a class="btn btn-primary" href="{{url_for('admin_pages.ban_user_account', username=i.get_username())}}" style="width:100px">Ban</a>
                 {% endif %}
            <a class="btn btn-danger" href="{{url_for('admin_pages.del_user_account', username=i.get_username())}}" style="width:100px">Delete</a>
             </center>
        </td>
{% endmacro %}

{% macro render_admin_table(i) %}
        <td><center>
            {{i['username']}}
        </center></td>
        <td>
             <center>

            <a class="btn btn-danger" href="{{url_for('admin_pages.del_admin_account', username=i['username'])}}" style="width:100px">Delete</a>
             </center>
        </td>
{% endmacro %}
