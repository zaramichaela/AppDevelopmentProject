{% extends 'admin/admin_base.html' %}
{% block head%}
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
<link rel="shortcut icon" type="image/x-icon" href="/static/title_img/dashboard.ico" />

{% endblock %}

{% block title %} Dashboard  | K's TCM Administration{% endblock %}
{% block pagetitle %} Dashboard {% endblock %}


{% block icon %}
<i class="fas fa-chart-line"></i>
{% endblock %}

{% block body%}
<div class="row">
    <div class="col-md-6">
        <div class="main-card mb-3 card">
            <div class="card-body">

                <canvas id="myChart" width="200" height="200" class="chartjs-render-monitor"></canvas>
            </div>
        </div>
    </div>
</div>

<script>
var ctx = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'pie',
    data: {
              labels: [{% for item in all_coupons_used_list %}
              <!--get the coupon name-->
             "{{item}}",
            {% endfor %}],
      datasets: [{
        label: '# of usage',
        backgroundColor: ["#2e279d","#4d80e4","#46b3e6","#dff6f0", "#0f4c75"],
        data: [{% for item in usage_number_list %}
                {{item}},
              {% endfor %}],
      }]
    },
    options: {
      title: {
        display: true,
        text: 'Number of users that use each coupon'
      }
    }
});
</script>

{% endblock%}
