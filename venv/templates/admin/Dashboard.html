{% extends 'admin/admin_base.html' %}
{% block head%}
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
{% endblock %}

{% block title %} Dashboard  | K's TCM Administration{% endblock %}
{% block icon %} <i class="pe-7s-bandaid icon-gradient bg-amy-crisp"></i>{% endblock %}
{% block pagetitle %} Dashboard {% endblock %}


{% block body%}
<div class="row">
    <div class="col-md-6">
        <div class="main-card mb-3 card">
            <div class="card-body">

                <canvas id="myChart" width="200" height="200" class="chartjs-render-monitor"></canvas>
            </div>
        </div>
    </div>
</div>

<script>
var ctx = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'pie',
    data: {
              labels: [{% for item in all_coupons_used_list %}
             "{{item}}",
            {% endfor %}],
      datasets: [{
        label: '# of usage',
        backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850"],
        data: [{% for item in usage_number_list %}
                {{item}},
              {% endfor %}],
      }]
    },
    options: {
      title: {
        display: true,
        text: 'Number of users that use each coupon'
      }
    }
});
</script>

{% endblock%}
